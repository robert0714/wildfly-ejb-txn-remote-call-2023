Table 2. HTTP endpoints of the test invocation

| URL                                                          | Behaviour                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Expectation                                                                                |
|--------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|
| http://localhost:8080/client/remote-outbound-stateless       | Two invocations under the transaction context started on server1 (client application). The EJB remote call is configured from the remote-outbound-connection. Both calls are directed to the same remote server instance (server application) due to transaction affinity.                                                                                                                                                                                                                                                                                                                                                                                     | The two returned hostnames must be the same.                                               |
| http://localhost:8080/client/remote-outbound-notx-stateless  | Several remote invocations to stateless EJB without a transaction context. The EJB remote call is configured from the remote-outbound-connection. The EJB client is expected to load balance the calls on various servers.                                                                                                                                                                                                                                                                                                                                                                                                                                     | The list of the returned hostnames should contain occurrences of both server2 and server3. |
| http://localhost:8080/client/direct-stateless                | Two invocations under the transaction context started on server1 (client application). The stateless bean is invoked on the remote side. The EJB remote call is configured from data in the client application source code. The remote invocation is run via the EJB remoting protocol.                                                                                                                                                                                                                                                                                                                                                                        | The returned hostnames must be the same.                                                   |
| http://localhost:8080/client/direct-stateless-http           | Two invocations under the transaction context started on server1 (client application). The stateless bean is invoked on the remote side. The EJB remote call is configured from data in the client application source code. The remote invocation is run, unlike the other calls of this quickstarts, via EJB over HTTP.                                                                                                                                                                                                                                                                                                                                       | The returned hostnames must be the same.                                                   |
| http://localhost:8080/client/remote-outbound-fail-stateless  | An invocation under the transaction context started on server1 (client application). The call goes to one of the remote servers, where errors occur during transaction processing. The failure is simulated at time of two-phase commit. This HTTP call finishes with success. Only the server log shows some warnings. This is an expected behaviour. An intermittent failure during commit phase of two-phase protocol makes the transaction manager obliged to finish the work eventually. The finalization of work is done in the background (by Narayana recovery manager, see details below), and the HTTP call may inform the client back with success. | When the recovery manager finishes the work all the transaction resources are committed.   |
